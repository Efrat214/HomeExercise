{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { VaccineForPatient } from 'src/app/VaccineForPatient';\nimport { Patient } from '../Patient';\nlet AddPatientsComponent = class AddPatientsComponent {\n  constructor(db) {\n    this.db = db;\n    this.p = new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date());\n    this.arrV = [];\n    this.x = 0;\n    this.firstHalf = true;\n    this.secondHalf = false;\n    this.PhotoFilePath = \"\";\n    this.arrVaccineForPatient = [new VaccineForPatient(0, 0, 0, new Date()), new VaccineForPatient(0, 0, 0, new Date()), new VaccineForPatient(0, 0, 0, new Date()), new VaccineForPatient(0, 0, 0, new Date())];\n  }\n  ngOnInit() {\n    this.RefreshVaccinesLst();\n  }\n  RefreshVaccinesLst() {\n    this.db.getAllvaccinations().subscribe(x => {\n      this.arrV = x;\n      console.log(this.arrV);\n      //  this.lstWithoutFilter=<Area[]>x;\n    });\n  }\n\n  continue() {\n    this.firstHalf = false;\n    this.secondHalf = true;\n  }\n  back() {\n    this.firstHalf = true;\n    this.secondHalf = false;\n  }\n  addUser() {\n    ///this.p.path=this.PhotoFilePath\n    console.log(this.p);\n    this.db.addUser(this.p).subscribe(x => {\n      this.x = x;\n      console.log(x);\n      this.arrVaccineForPatient.forEach(v => {\n        console.log(v);\n        v.patientID = this.x;\n        if (v.vaccineID !== null) {\n          this.db.addVaccinesForPatient(v).subscribe(y => {\n            console.log(y);\n          });\n        }\n      });\n    });\n  }\n  uploadPhoto(event) {\n    var file = event.target.files[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    console.log(formData);\n    this.db.UploadImage(formData).subscribe(x => {\n      this.PhotoFilePath = x;\n      console.log(this.PhotoFilePath);\n    });\n  }\n};\nAddPatientsComponent = __decorate([Component({\n  selector: 'app-add-patients',\n  templateUrl: './add-patients.component.html',\n  styleUrls: ['./add-patients.component.css']\n})], AddPatientsComponent);\nexport { AddPatientsComponent };","map":{"version":3,"mappings":"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","names":["Component","VaccineForPatient","Patient","AddPatientsComponent","constructor","db","Date","ngOnInit","RefreshVaccinesLst","getAllvaccinations","subscribe","x","arrV","console","log","continue","firstHalf","secondHalf","back","addUser","p","arrVaccineForPatient","forEach","v","patientID","vaccineID","addVaccinesForPatient","y","uploadPhoto","event","file","target","files","formData","FormData","append","UploadImage","PhotoFilePath","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\1\\Desktop\\תכנות\\עבודה\\corona-details\\src\\app\\patients\\add-patients\\add-patients.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { SharedServiceService } from 'src/app/shared-service.service';\nimport { VaccinationsComponent } from 'src/app/vaccinations/vaccinations.component';\nimport { Vaccine } from 'src/app/Vaccine';\nimport { VaccineForPatient } from 'src/app/VaccineForPatient';\nimport { Patient } from '../Patient';\n\n\n@Component({\n  selector: 'app-add-patients',\n  templateUrl: './add-patients.component.html',\n  styleUrls: ['./add-patients.component.css']\n})\nexport class AddPatientsComponent {\n  p: Patient = new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date())\n  arrV: Vaccine[] = []\n  x: number = 0\n  firstHalf: boolean = true\n  secondHalf: boolean = false\n  PhotoFilePath: string = \"\"\n  arrVaccineForPatient: VaccineForPatient[] = [\n    new VaccineForPatient(0, 0, 0, new Date()),\n    new VaccineForPatient(0, 0, 0, new Date()),\n    new VaccineForPatient(0, 0, 0, new Date()),\n    new VaccineForPatient(0, 0, 0, new Date())\n  ];\n  constructor(private db: SharedServiceService) { }\n  ngOnInit(): void {\n    this.RefreshVaccinesLst();\n\n  }\n  RefreshVaccinesLst() {\n    this.db.getAllvaccinations().subscribe(x => {\n      this.arrV = <Vaccine[]>x;\n      console.log(this.arrV)\n      //  this.lstWithoutFilter=<Area[]>x;\n    });\n  }\n  continue() {\n    this.firstHalf = false\n    this.secondHalf = true\n  }\n  back() {\n    this.firstHalf = true\n    this.secondHalf = false\n  }\n  addUser() {\n    ///this.p.path=this.PhotoFilePath\n    console.log(this.p);\n    this.db.addUser(this.p).subscribe(x => {\n      this.x = <number>x;\n      console.log(x);\n      this.arrVaccineForPatient.forEach(v => {\n        console.log(v);\n        \n        v.patientID = this.x;\n        if (v.vaccineID !== null) {\n          this.db.addVaccinesForPatient(v).subscribe(y => {\n            console.log(y);\n          });\n        }\n      });\n    })\n  }\n  uploadPhoto(event: any) {\n    var file = event.target.files[0];\n    const formData: FormData = new FormData();\n    formData.append('file', file);\n    console.log(formData);\n    this.db.UploadImage(formData).subscribe(x => {\n      this.PhotoFilePath = <string>x;\n      console.log(this.PhotoFilePath);\n\n    }\n\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}