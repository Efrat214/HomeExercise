{"ast":null,"code":"import { Vaccine } from 'src/app/Vaccine';\nimport { VaccineForPatient } from 'src/app/VaccineForPatient';\nimport { Patient } from '../Patient';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared-service.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AddPatientsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"label\", 7);\n    i0.ɵɵtext(2, \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 8)(4, \"input\", 9, 10);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.p.firstName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 11);\n    i0.ɵɵtext(7, \"\\u05E9\\u05D3\\u05D4 \\u05D7\\u05D5\\u05D1\\u05D4 \\u05D5\\u05DC\\u05E4\\u05D7\\u05D5\\u05EA \\u05D1\\u05D0\\u05D5\\u05E8\\u05DA 2 \\u05EA\\u05D5\\u05D5\\u05D9\\u05DD\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"label\", 7);\n    i0.ɵɵtext(9, \"\\u05E9.\\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 8)(11, \"input\", 12, 13);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.p.lastName = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 11);\n    i0.ɵɵtext(14, \"\\u05E9\\u05D3\\u05D4 \\u05D7\\u05D5\\u05D1\\u05D4 \\u05D5\\u05DC\\u05E4\\u05D7\\u05D5\\u05EA \\u05D1\\u05D0\\u05D5\\u05E8\\u05DA 2 \\u05EA\\u05D5\\u05D5\\u05D9\\u05DD\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"label\", 14);\n    i0.ɵɵtext(16, \"\\u05EA.\\u05D6\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 8)(18, \"input\", 15, 16);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.p.patientId = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\", 11);\n    i0.ɵɵtext(21, \"\\u05E9\\u05D3\\u05D4 \\u05D7\\u05D5\\u05D1\\u05D4 \\u05D5\\u05EA\\\"\\u05D6 \\u05D0\\u05D9\\u05E0\\u05D4 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"label\", 14);\n    i0.ɵɵtext(23, \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 8)(25, \"input\", 17, 18);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.p.telephone = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"span\", 11);\n    i0.ɵɵtext(28, \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \\u05D0\\u05D9\\u05E0\\u05D5 \\u05EA\\u05E7\\u05D9\\u05DF\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"label\", 14);\n    i0.ɵɵtext(30, \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \\u05E0\\u05D9\\u05D9\\u05D3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 8)(32, \"input\", 19, 20);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.p.mobilePhone = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"span\", 11);\n    i0.ɵɵtext(35, \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05E4\\u05DC\\u05D0\\u05E4\\u05D5\\u05DF \\u05D0\\u05D9\\u05E0\\u05D5 \\u05EA\\u05E7\\u05D9\\u05DF\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"label\", 7);\n    i0.ɵɵtext(37, \"\\u05E2\\u05D9\\u05E8\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 8)(39, \"input\", 21, 22);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_39_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.p.city = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"span\", 11);\n    i0.ɵɵtext(42, \"\\u05E9\\u05D3\\u05D4 \\u05D7\\u05D5\\u05D1\\u05D4 \\u05D5\\u05D1\\u05D0\\u05D5\\u05E8\\u05DA 2 \\u05EA\\u05D5\\u05D5\\u05D9\\u05DD\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"label\", 7);\n    i0.ɵɵtext(44, \"\\u05E8\\u05D7\\u05D5\\u05D1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\", 8)(46, \"input\", 23, 24);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_46_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.p.street = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"span\", 11);\n    i0.ɵɵtext(49, \"\\u05E9\\u05D3\\u05D4 \\u05D7\\u05D5\\u05D1\\u05D4 \\u05D5\\u05D1\\u05D0\\u05D5\\u05E8\\u05DA 2 \\u05EA\\u05D5\\u05D5\\u05D9\\u05DD\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"label\", 7);\n    i0.ɵɵtext(51, \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05D1\\u05D9\\u05EA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 8)(53, \"input\", 25, 26);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_53_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.p.numHouse = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"span\", 11);\n    i0.ɵɵtext(56, \"\\u05E9\\u05D3\\u05D4 \\u05D7\\u05D5\\u05D1\\u05D4\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(57, \"label\", 7);\n    i0.ɵɵtext(58, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"div\", 8)(60, \"input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_3_Template_input_ngModelChange_60_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.p.dateOfBirth = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"label\", 7);\n    i0.ɵɵtext(62, \"\\u05D1\\u05D7\\u05E8 \\u05EA\\u05DE\\u05D5\\u05E0\\u05EA \\u05E4\\u05E8\\u05D5\\u05E4\\u05D9\\u05DC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"div\", 28)(64, \"input\", 29);\n    i0.ɵɵlistener(\"change\", function AddPatientsComponent_div_3_Template_input_change_64_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.uploadPhoto($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"div\");\n    i0.ɵɵelement(66, \"img\", 30);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(5);\n    const _r7 = i0.ɵɵreference(12);\n    const _r8 = i0.ɵɵreference(19);\n    const _r9 = i0.ɵɵreference(26);\n    const _r10 = i0.ɵɵreference(33);\n    const _r11 = i0.ɵɵreference(40);\n    const _r12 = i0.ɵɵreference(47);\n    const _r13 = i0.ɵɵreference(54);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r6.valid || _r6.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r7.valid || _r7.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.patientId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r8.valid || _r8.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.telephone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r9.valid || _r9.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.mobilePhone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r10.valid || _r10.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.city);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r11.valid || _r11.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.street);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r12.valid || _r12.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.numHouse);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r13.valid || _r13.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.p.dateOfBirth);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"src\", ctx_r1.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AddPatientsComponent_div_4_div_9_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const vaccine_r29 = ctx.$implicit;\n    const i_r30 = ctx.index;\n    i0.ɵɵproperty(\"ngValue\", i_r30 + 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", vaccine_r29.manufacturer, \" \");\n  }\n}\nfunction AddPatientsComponent_div_4_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"label\", 35);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 7);\n    i0.ɵɵtext(4, \"\\u05D9\\u05E6\\u05E8\\u05DF \\u05D4\\u05D7\\u05D9\\u05E1\\u05D5\\u05DF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 8)(6, \"select\", 36);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_4_div_9_Template_select_ngModelChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const vaccine_r26 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(vaccine_r26.vaccineID = $event);\n    });\n    i0.ɵɵelementStart(7, \"option\");\n    i0.ɵɵtext(8, \"--Select--\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AddPatientsComponent_div_4_div_9_option_9_Template, 2, 2, \"option\", 37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"label\", 7);\n    i0.ɵɵtext(11, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D4\\u05D7\\u05D9\\u05E1\\u05D5\\u05DF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 8)(13, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_4_div_9_Template_input_ngModelChange_13_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const vaccine_r26 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(vaccine_r26.date = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const vaccine_r26 = ctx.$implicit;\n    const i_r27 = ctx.index;\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u05D7\\u05D9\\u05E1\\u05D5\\u05DF \", i_r27 + 1, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", vaccine_r26.vaccineID);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r25.arrV);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", vaccine_r26.date);\n  }\n}\nfunction AddPatientsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"label\", 7);\n    i0.ɵɵtext(2, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D0\\u05D1\\u05D7\\u05D5\\u05DF \\u05E7\\u05D5\\u05E8\\u05D5\\u05E0\\u05D4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 8)(4, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_4_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.p.positiveResultDate = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"label\", 7);\n    i0.ɵɵtext(6, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D4\\u05D7\\u05DC\\u05DE\\u05D4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_4_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.p.recoveryDate = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, AddPatientsComponent_div_4_div_9_Template, 14, 4, \"div\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.p.positiveResultDate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.p.recoveryDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.arrVaccineForPatient);\n  }\n}\nfunction AddPatientsComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function AddPatientsComponent_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.continue());\n    });\n    i0.ɵɵtext(1, \" \\u05D4\\u05DE\\u05E9\\u05DA\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddPatientsComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function AddPatientsComponent_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.back());\n    });\n    i0.ɵɵtext(1, \" \\u05D7\\u05D6\\u05D5\\u05E8\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddPatientsComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function AddPatientsComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r41.addUser(_r0));\n    });\n    i0.ɵɵtext(1, \" \\u05D4\\u05D5\\u05E1\\u05E4\\u05D4\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddPatientsComponent {\n  constructor(db) {\n    this.db = db;\n    this.p = new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\");\n    this.arrV = [];\n    this.arrp = [];\n    this.x = 0;\n    this.firstHalf = true;\n    this.secondHalf = false;\n    this.PhotoFilePath = \"\";\n    this.url = \"\";\n    this.arrVaccineForPatient = [new VaccineForPatient(0, 0, 0, new Date(), new Vaccine(0, \"\"), new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\")), new VaccineForPatient(0, 0, 0, new Date(), new Vaccine(0, \"\"), new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\")), new VaccineForPatient(0, 0, 0, new Date(), new Vaccine(0, \"\"), new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\")), new VaccineForPatient(0, 0, 0, new Date(), new Vaccine(0, \"\"), new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\"))];\n    this.formData = new FormData();\n    this.formdataimg = new FormData();\n  }\n  ngOnInit() {\n    this.RefreshVaccinesLst();\n  }\n  RefreshVaccinesLst() {\n    this.db.getAllvaccinations().subscribe(x => {\n      this.arrV = x;\n      console.log(this.arrV);\n    });\n  }\n  continue() {\n    this.firstHalf = false;\n    this.secondHalf = true;\n  }\n  back() {\n    this.firstHalf = true;\n    this.secondHalf = false;\n  }\n  addUser(userForm) {\n    console.log(this.p);\n    if (userForm.valid) {\n      this.db.addUser(this.p).subscribe(x => {\n        this.x = x;\n        console.log(x);\n        this.RefreshPatientsLst();\n        this.arrVaccineForPatient.forEach(v => {\n          console.log(v);\n          v.patient = this.arrp.find(element => element.id === this.x) || new Patient(0, '', '', '', '', '', '', '', 0, new Date(), new Date(), new Date(), \"\");\n          v.vaccine = this.arrV.find(element => element.id === this.x) || new Vaccine(0, \"\");\n          v.patientID = this.x;\n          if (v.vaccineID !== 0) {\n            this.db.addVaccinesForPatient(v).subscribe(y => {\n              console.log(y);\n            });\n          }\n        });\n      });\n    } else {}\n    RefreshPatientsLst();\n    {\n      this.db.GetAllUsers().subscribe(x => {\n        this.arrp = x;\n        console.log(this.arrp);\n        this.arrp.map(x => x.dateOfBirth);\n      });\n    }\n    uploadPhoto(event, any);\n    {\n      var file = event.target.files[0];\n      const formData = new FormData();\n      formData.append('file', file);\n      this.formdataimg = formData;\n      console.log(this.formdataimg);\n      var reader = new FileReader();\n      reader.readAsDataURL(event.target.files[0]);\n      reader.onload = e => {\n        this.url = e.target.result;\n        console.log(this.url);\n      };\n      this.db.UploadImage(formData).subscribe(x => {\n        this.PhotoFilePath = x;\n        console.log(this.PhotoFilePath);\n      });\n    }\n  }\n}\nAddPatientsComponent.ɵfac = function AddPatientsComponent_Factory(t) {\n  return new (t || AddPatientsComponent)(i0.ɵɵdirectiveInject(i1.SharedServiceService));\n};\nAddPatientsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddPatientsComponent,\n  selectors: [[\"app-add-patients\"]],\n  decls: 8,\n  vars: 5,\n  consts: [[\"userForm\", \"ngForm\"], [1, \"d-flex\", \"flex-row\", \"bd-highlight\", \"mb-3\"], [\"class\", \"form-froup row\", \"style\", \"width: 60%;\", 4, \"ngIf\"], [\"class\", \"form-froup row text-left\", \"style\", \"width: 60%;\", 4, \"ngIf\"], [\"class\", \"btn btn-info\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-info mr-3\", 3, \"click\", 4, \"ngIf\"], [1, \"form-froup\", \"row\", 2, \"width\", \"60%\"], [1, \"col-sm-2\", \"col-form-label\", \"mr-1\"], [1, \"col-sm-10\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\", \"name\", \"name\", \"minlength\", \"2\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [1, \"text-danger\", \"float-right\", 3, \"hidden\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\", \"name\", \"lastName\", \"minlength\", \"2\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"lastName\", \"ngModel\"], [1, \"col-sm-2\", \"col-form-label\", \"m-1\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA\", \"pattern\", \"(?!(00)\\\\1*$)(?!9(?![0-8]))\\\\d{5,9}$\", \"name\", \"id\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\", \"name\", \"tel\", \"pattern\", \"^(972|0)([23489]|77)[1-9]\\\\d{6}$\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"tel\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \\u05E0\\u05D9\\u05D9\\u05D3\", \"name\", \"phone\", \"pattern\", \"^(972|0|05)([23489]|5[02489]|77)[1-9]\\\\d{6}$\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"phone\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E2\\u05D9\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\", \"minlength\", \"2\", \"required\", \"\", \"name\", \"city\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"city\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E8\\u05D7\\u05D5\\u05D1 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\", \"minlength\", \"2\", \"required\", \"\", \"name\", \"street\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"street\", \"ngModel\"], [\"type\", \"number\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D1\\u05D9\\u05EA\", \"required\", \"\", \"name\", \"numHouse\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"numHouse\", \"ngModel\"], [\"type\", \"date\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"ml-3\", \"bd-highlight\", 2, \"width\", \"40%\"], [\"type\", \"file\", \"accept\", \"image/*\", 1, \"mt-2\", 3, \"change\"], [3, \"src\"], [1, \"form-froup\", \"row\", \"text-left\", 2, \"width\", \"60%\"], [\"type\", \"date\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"form-froup row\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-froup\", \"row\"], [1, \"col-sm-2\", \"col-form-label\", \"mr-1\", 2, \"font-weight\", \"bold\"], [1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngValue\"], [1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"btn\", \"btn-info\", \"mr-3\", 3, \"click\"]],\n  template: function AddPatientsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", null, 0)(2, \"div\", 1);\n      i0.ɵɵtemplate(3, AddPatientsComponent_div_3_Template, 67, 18, \"div\", 2);\n      i0.ɵɵtemplate(4, AddPatientsComponent_div_4_Template, 10, 3, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, AddPatientsComponent_button_5_Template, 2, 0, \"button\", 4);\n      i0.ɵɵtemplate(6, AddPatientsComponent_button_6_Template, 2, 0, \"button\", 5);\n      i0.ɵɵtemplate(7, AddPatientsComponent_button_7_Template, 2, 0, \"button\", 5);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.firstHalf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.secondHalf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.firstHalf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.secondHalf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.secondHalf);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinLengthValidator, i3.PatternValidator, i3.NgModel, i3.NgForm],\n  styles: [\"label[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGF0aWVudHMvYWRkLXBhdGllbnRzL2FkZC1wYXRpZW50cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmIiwic291cmNlc0NvbnRlbnQiOlsibGFiZWx7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Vaccine","VaccineForPatient","Patient","i0","AddPatientsComponent","constructor","db","Date","FormData","ngOnInit","RefreshVaccinesLst","getAllvaccinations","subscribe","x","arrV","console","log","continue","firstHalf","secondHalf","back","addUser","userForm","p","valid","RefreshPatientsLst","arrVaccineForPatient","forEach","v","patient","arrp","find","element","id","vaccine","patientID","vaccineID","addVaccinesForPatient","y","GetAllUsers","map","dateOfBirth","uploadPhoto","event","any","file","target","files","formData","append","formdataimg","reader","FileReader","readAsDataURL","onload","e","url","result","UploadImage","PhotoFilePath","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\1\\Desktop\\תכנות\\עבודה\\corona-details\\src\\app\\patients\\add-patients\\add-patients.component.ts","C:\\Users\\1\\Desktop\\תכנות\\עבודה\\corona-details\\src\\app\\patients\\add-patients\\add-patients.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { SharedServiceService } from 'src/app/shared-service.service';\nimport { VaccinationsComponent } from 'src/app/vaccinations/vaccinations.component';\nimport { Vaccine } from 'src/app/Vaccine';\nimport { VaccineForPatient } from 'src/app/VaccineForPatient';\nimport { Patient } from '../Patient';\nimport { FormGroup, FormBuilder, Validators, FormControl, NgForm } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-add-patients',\n  templateUrl: './add-patients.component.html',\n  styleUrls: ['./add-patients.component.css']\n})\nexport class AddPatientsComponent {\n  p: Patient = new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\")\n  arrV: Vaccine[] = []\n  arrp:Patient[]=[];\n  x: number = 0\n  firstHalf: boolean = true\n  secondHalf: boolean = false\n  PhotoFilePath: string = \"\"\n  url:string=\"\"\n  arrVaccineForPatient: VaccineForPatient[] = [\n    new VaccineForPatient(0, 0, 0, new Date(),new Vaccine(0,\"\"),new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\")),\n    new VaccineForPatient(0, 0, 0, new Date(),new Vaccine(0,\"\"),new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\")),\n    new VaccineForPatient(0, 0, 0, new Date(),new Vaccine(0,\"\"),new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\")),\n    new VaccineForPatient(0, 0, 0, new Date(),new Vaccine(0,\"\"),new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\"))\n  ];\n  formData:FormData=new FormData()\n  formdataimg:FormData=new FormData()\n  constructor(private db: SharedServiceService) { }\n  ngOnInit(): void {\n    this.RefreshVaccinesLst();\n\n  }\n\n  RefreshVaccinesLst() {\n    this.db.getAllvaccinations().subscribe(x => {\n      this.arrV = <Vaccine[]>x;\n      console.log(this.arrV)\n    });\n  }\n  continue() {\n    this.firstHalf = false\n    this.secondHalf = true\n  }\n  back() {\n    this.firstHalf = true\n    this.secondHalf = false\n  }\n  addUser(userForm: NgForm) {\n    console.log(this.p);\n    if(userForm.valid){\n      this.db.addUser(this.p).subscribe(x => {\n        this.x = <number>x;\n        console.log(x);\n        this.RefreshPatientsLst()\n        this.arrVaccineForPatient.forEach(v => {\n          console.log(v);\n          v.patient=this.arrp.find(element => element.id===this.x)|| new Patient(0, '', '', '', '', '', '', '', 0, new Date(), new Date(), new Date(),\"\");\n          v.vaccine=this.arrV.find(element => element.id===this.x)|| new Vaccine(0,\"\");\n          v.patientID = this.x;\n          if (v.vaccineID !== 0) {\n            this.db.addVaccinesForPatient(v).subscribe(y => {\n              console.log(y);\n            });\n          }\n        });\n      })\n    }\n    else{\n  }\n  RefreshPatientsLst(){\n    this.db.GetAllUsers() .subscribe(x=>{     \n      this.arrp=<Patient[]>x;\n      console.log(this.arrp)\n      this.arrp.map(x=>x.dateOfBirth)\n    });\n  }\n  uploadPhoto(event: any) {\n    var file = event.target.files[0];\n    const formData: FormData = new FormData();\n    formData.append('file', file);\n    this.formdataimg=formData\n    console.log(this.formdataimg);\n    var reader=new FileReader()\n    reader.readAsDataURL(event.target.files[0])\n    reader.onload=(e:any)=>{\n      this.url=e.target.result\n      console.log(this.url);\n      \n    }\n    this.db.UploadImage(formData).subscribe(x => {\n      this.PhotoFilePath = <any>x;\n      console.log(this.PhotoFilePath);\n    }\n    )\n  }\n}\n","<form #userForm=\"ngForm\">\n<div class=\"d-flex flex-row bd-highlight mb-3\">\n\n    <div class=\"form-froup row\" style=\"width: 60%;\" *ngIf=\"firstHalf\">\n\n        <label class=\"col-sm-2 col-form-label mr-1\">שם פרטי</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.firstName\" placeholder=\"הכנס שם פרטי\" name=\"name\"\n                #name=\"ngModel\" minlength=\"2\" required>\n            <span [hidden]=\"name.valid || name.pristine\" class=\"text-danger float-right\">שדה חובה ולפחות באורך 2\n                תווים</span>\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">ש.משפחה</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.lastName\" placeholder=\"הכנס שם משפחה\" name=\"lastName\"\n                #lastName=\"ngModel\" minlength=\"2\" required>\n            <span [hidden]=\"lastName.valid || lastName.pristine\" class=\"text-danger float-right\">שדה חובה ולפחות באורך 2\n                תווים</span>\n        </div>\n        <label class=\"col-sm-2 col-form-label m-1\">ת.ז</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.patientId\" placeholder=\"הכנס תעודת זהות\"\n                pattern=\"(?!(00)\\1*$)(?!9(?![0-8]))\\d{5,9}$\" name=\"id\" #id=\"ngModel\" required>\n            <span [hidden]=\"id.valid||id.pristine\" class=\"text-danger float-right\">שדה חובה ות\"ז אינה תקינה</span>\n        </div>\n        <label class=\"col-sm-2 col-form-label m-1\">טלפון</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.telephone\" placeholder=\"הכנס מספר טלפון\" name=\"tel\"\n                #tel=\"ngModel\" pattern=\"^(972|0)([23489]|77)[1-9]\\d{6}$\">\n            <span [hidden]=\"tel.valid || tel.pristine\" class=\"text-danger float-right\">מספר טלפון אינו תקין</span>\n        </div>\n        <label class=\"col-sm-2 col-form-label m-1\">טלפון נייד</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.mobilePhone\" placeholder=\"הכנס מספר טלפון נייד\"\n                name=\"phone\" #phone=\"ngModel\" pattern=\"^(972|0|05)([23489]|5[02489]|77)[1-9]\\d{6}$\">\n            <span [hidden]=\"phone.valid || phone.pristine\" class=\"text-danger float-right\">מספר פלאפון אינו תקין</span>\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">עיר</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.city\" placeholder=\"הכנס עיר מגורים\" minlength=\"2\"\n                required name=\"city\" #city=\"ngModel\">\n            <span [hidden]=\"city.valid || city.pristine\" class=\"text-danger float-right\">שדה חובה ובאורך 2 תווים</span>\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">רחוב</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.street\" placeholder=\"הכנס רחוב מגורים\" minlength=\"2\"\n                required name=\"street\" #street=\"ngModel\">\n            <span [hidden]=\"street.valid || street.pristine\" class=\"text-danger float-right\">שדה חובה ובאורך 2\n                תווים</span>\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">מספר בית</label>\n        <div class=\"col-sm-10\">\n            <input type=\"number\" class=\"form-control\" [(ngModel)]=\"p.numHouse\" placeholder=\"הכנס מספר בית\" required\n                name=\"numHouse\" #numHouse=\"ngModel\">\n            <span [hidden]=\"numHouse.valid || numHouse.pristine\" class=\"text-danger float-right\">שדה חובה</span>\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">תאריך לידה</label>\n        <div class=\"col-sm-10\">\n            <input type=\"date\" class=\"form-control\" [(ngModel)]=\"p.dateOfBirth\" placeholder=\"הכנס תאריך לידה\">\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">בחר תמונת פרופיל</label>\n        <div class=\"ml-3 bd-highlight\" style=\"width: 40%;\">\n            <input type=\"file\" (change)=\"uploadPhoto($event)\" class=\"mt-2\" accept=\"image/*\" />\n            <div><img [src]=\"url\"></div>\n        </div>\n\n    </div>\n\n\n\n\n    <div class=\"form-froup row text-left\" style=\"width: 60%;\" *ngIf=\"secondHalf\">\n        <label class=\"col-sm-2 col-form-label mr-1\">תאריך אבחון קורונה</label>\n        <div class=\"col-sm-10\">\n            <input type=\"date\" class=\"form-control\" [(ngModel)]=\"p.positiveResultDate\">\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">תאריך החלמה</label>\n        <div class=\"col-sm-10\">\n            <input type=\"date\" class=\"form-control\" [(ngModel)]=\"p.recoveryDate\">\n        </div>\n        <div class=\"form-froup row\" *ngFor=\"let vaccine of arrVaccineForPatient; let i = index\">\n            <label class=\"col-sm-2 col-form-label mr-1\" style=\"font-weight: bold;\">חיסון {{ i + 1 }}</label>\n            <label class=\"col-sm-2 col-form-label mr-1\">יצרן החיסון</label>\n            <div class=\"col-sm-10\">\n                <select class=\"form-control\" [(ngModel)]=\"vaccine.vaccineID\">\n                    <option>--Select--</option>\n                    <option *ngFor=\"let vaccine of arrV let i = index\" [ngValue]=\"i+1\">\n                        {{vaccine.manufacturer}}\n                    </option>\n                </select>\n            </div>\n            <label class=\"col-sm-2 col-form-label mr-1\">תאריך החיסון</label>\n            <div class=\"col-sm-10\">\n                <input type=\"date\" class=\"form-control\" [(ngModel)]=\"vaccine.date\">\n            </div>\n        </div>\n    </div>\n\n</div>\n\n<button (click)=\"continue()\" class=\"btn btn-info\" *ngIf=\"firstHalf\">\n    המשך\n</button>\n<button (click)=\"back()\" class=\"btn btn-info mr-3\" *ngIf=\"secondHalf\">\n    חזור\n</button>\n<button (click)=\"addUser(userForm)\" class=\"btn btn-info mr-3\" *ngIf=\"secondHalf\">\n    הוספה\n</button>\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}