{"ast":null,"code":"import { Vaccine } from 'src/app/Vaccine';\nimport { VaccineForPatient } from 'src/app/VaccineForPatient';\nimport { Patient } from '../Patient';\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared-service.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction AddPatientsComponent_div_2_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \" \\u05E9\\u05D3\\u05D4 \\u05D7\\u05D5\\u05D1\\u05D4 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddPatientsComponent_div_2_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1, \" \\u05E9\\u05DD \\u05D7\\u05D9\\u05D9\\u05D1 \\u05DC\\u05DB\\u05DC\\u05D5\\u05DC \\u05DC\\u05E4\\u05D7\\u05D5\\u05EA 2 \\u05EA\\u05D5\\u05D5\\u05D9\\u05DD \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddPatientsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"label\", 3);\n    i0.ɵɵtext(2, \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 22);\n    i0.ɵɵtemplate(4, AddPatientsComponent_div_2_span_4_Template, 2, 0, \"span\", 23);\n    i0.ɵɵtemplate(5, AddPatientsComponent_div_2_span_5_Template, 2, 0, \"span\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.registerFormControl[\"firstname\"].errors == null ? null : ctx_r0.registerFormControl[\"firstname\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.registerFormControl[\"firstname\"].touched && (ctx_r0.registerFormControl[\"firstname\"].errors == null ? null : ctx_r0.registerFormControl[\"firstname\"].errors[\"minlength\"]));\n  }\n}\nfunction AddPatientsComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1, \" \\u05E9\\u05D3\\u05D4 \\u05D7\\u05D5\\u05D1\\u05D4 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddPatientsComponent_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1, \" \\u05E9\\u05DD \\u05D7\\u05D9\\u05D9\\u05D1 \\u05DC\\u05DB\\u05DC\\u05D5\\u05DC \\u05DC\\u05E4\\u05D7\\u05D5\\u05EA 2 \\u05EA\\u05D5\\u05D5\\u05D9\\u05DD \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddPatientsComponent_div_43_div_9_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const vaccine_r13 = ctx.$implicit;\n    const i_r14 = ctx.index;\n    i0.ɵɵproperty(\"ngValue\", i_r14 + 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", vaccine_r13.manufacturer, \" \");\n  }\n}\nfunction AddPatientsComponent_div_43_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"label\", 30);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 3);\n    i0.ɵɵtext(4, \"\\u05D9\\u05E6\\u05E8\\u05DF \\u05D4\\u05D7\\u05D9\\u05E1\\u05D5\\u05DF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"select\", 31);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_43_div_9_Template_select_ngModelChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const vaccine_r10 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(vaccine_r10.vaccineID = $event);\n    });\n    i0.ɵɵelementStart(7, \"option\");\n    i0.ɵɵtext(8, \"--Select--\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AddPatientsComponent_div_43_div_9_option_9_Template, 2, 2, \"option\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"label\", 3);\n    i0.ɵɵtext(11, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D4\\u05D7\\u05D9\\u05E1\\u05D5\\u05DF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 4)(13, \"input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_43_div_9_Template_input_ngModelChange_13_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const vaccine_r10 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(vaccine_r10.date = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const vaccine_r10 = ctx.$implicit;\n    const i_r11 = ctx.index;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u05D7\\u05D9\\u05E1\\u05D5\\u05DF \", i_r11 + 1, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", vaccine_r10.vaccineID);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.arrV);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", vaccine_r10.date);\n  }\n}\nfunction AddPatientsComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"label\", 3);\n    i0.ɵɵtext(2, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D0\\u05D1\\u05D7\\u05D5\\u05DF \\u05E7\\u05D5\\u05E8\\u05D5\\u05E0\\u05D4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_43_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.p.positiveResultDate = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"label\", 3);\n    i0.ɵɵtext(6, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D4\\u05D7\\u05DC\\u05DE\\u05D4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 4)(8, \"input\", 27);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_div_43_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.p.recoveryDate = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, AddPatientsComponent_div_43_div_9_Template, 14, 4, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.p.positiveResultDate);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.p.recoveryDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.arrVaccineForPatient);\n  }\n}\nfunction AddPatientsComponent_button_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AddPatientsComponent_button_44_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.continue());\n    });\n    i0.ɵɵtext(1, \" \\u05D4\\u05DE\\u05E9\\u05DA\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddPatientsComponent_button_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function AddPatientsComponent_button_45_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.back());\n    });\n    i0.ɵɵtext(1, \" \\u05D7\\u05D6\\u05D5\\u05E8\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddPatientsComponent_button_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function AddPatientsComponent_button_46_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.addUser());\n    });\n    i0.ɵɵtext(1, \" \\u05D4\\u05D5\\u05E1\\u05E4\\u05D4\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddPatientsComponent {\n  constructor(db, fb) {\n    this.db = db;\n    this.fb = fb;\n    this.p = new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\");\n    this.arrV = [];\n    this.arrp = [];\n    this.x = 0;\n    this.firstHalf = true;\n    this.secondHalf = false;\n    this.PhotoFilePath = \"\";\n    this.url = \"\";\n    this.arrVaccineForPatient = [new VaccineForPatient(0, 0, 0, new Date(), new Vaccine(0, \"\"), new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\")), new VaccineForPatient(0, 0, 0, new Date(), new Vaccine(0, \"\"), new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\")), new VaccineForPatient(0, 0, 0, new Date(), new Vaccine(0, \"\"), new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\")), new VaccineForPatient(0, 0, 0, new Date(), new Vaccine(0, \"\"), new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(), \"\"))];\n    this.formData = new FormData();\n    this.formdataimg = new FormData();\n    this.registerForm = new FormGroup({\n      firstname: new FormControl('', [Validators.required, Validators.minLength(2)]),\n      lastname: new FormControl('', [Validators.required, Validators.minLength(2)])\n    });\n  }\n  ngOnInit() {\n    this.RefreshVaccinesLst();\n  }\n  get registerFormControl() {\n    return this.registerForm.controls;\n  }\n  RefreshVaccinesLst() {\n    this.db.getAllvaccinations().subscribe(x => {\n      this.arrV = x;\n      console.log(this.arrV);\n    });\n  }\n  continue() {\n    this.firstHalf = false;\n    this.secondHalf = true;\n  }\n  back() {\n    this.firstHalf = true;\n    this.secondHalf = false;\n  }\n  addUser() {\n    console.log(this.p);\n    if (this.registerForm.valid) {\n      this.db.addUser(this.p).subscribe(x => {\n        this.x = x;\n        console.log(x);\n        this.RefreshPatientsLst();\n        this.arrVaccineForPatient.forEach(v => {\n          console.log(v);\n          v.patient = this.arrp.find(element => element.id === this.x) || new Patient(0, '', '', '', '', '', '', '', 0, new Date(), new Date(), new Date(), \"\");\n          v.vaccine = this.arrV.find(element => element.id === this.x) || new Vaccine(0, \"\");\n          v.patientID = this.x;\n          if (v.vaccineID !== 0) {\n            this.db.addVaccinesForPatient(v).subscribe(y => {\n              console.log(y);\n            });\n          }\n        });\n      });\n    } else {\n      console.log(this.registerForm.value);\n      alert('not valid');\n    }\n  }\n  RefreshPatientsLst() {\n    this.db.GetAllUsers().subscribe(x => {\n      this.arrp = x;\n      console.log(this.arrp);\n      this.arrp.map(x => x.dateOfBirth);\n    });\n  }\n  uploadPhoto(event) {\n    var file = event.target.files[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    this.formdataimg = formData;\n    console.log(this.formdataimg);\n    var reader = new FileReader();\n    reader.readAsDataURL(event.target.files[0]);\n    reader.onload = e => {\n      this.url = e.target.result;\n      console.log(this.url);\n    };\n    // this.db.UploadImage(formData).subscribe(x => {\n    //   this.PhotoFilePath = <any>x;\n    //   console.log(this.PhotoFilePath);\n    // }\n    // )\n  }\n}\n\nAddPatientsComponent.ɵfac = function AddPatientsComponent_Factory(t) {\n  return new (t || AddPatientsComponent)(i0.ɵɵdirectiveInject(i1.SharedServiceService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nAddPatientsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddPatientsComponent,\n  selectors: [[\"app-add-patients\"]],\n  decls: 47,\n  vars: 16,\n  consts: [[3, \"formGroup\"], [1, \"d-flex\", \"flex-row\", \"bd-highlight\", \"mb-3\"], [\"class\", \"form-froup row\", \"style\", \"width: 60%;\", 4, \"ngIf\"], [1, \"col-sm-2\", \"col-form-label\", \"mr-1\"], [1, \"col-sm-10\"], [\"type\", \"text\", \"formControlName\", \"lastname\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\", 1, \"form-control\"], [\"class\", \"text-danger float-right\", 4, \"ngIf\"], [1, \"col-sm-2\", \"col-form-label\", \"m-1\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \\u05E0\\u05D9\\u05D9\\u05D3\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E2\\u05D9\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E8\\u05D7\\u05D5\\u05D1 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05DE\\u05E1\\u05E4\\u05E8 \\u05D1\\u05D9\\u05EA\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"ml-3\", \"bd-highlight\", 2, \"width\", \"40%\"], [\"type\", \"file\", \"accept\", \"image/*\", 1, \"mt-2\", 3, \"change\"], [3, \"src\"], [\"class\", \"form-froup row text-left\", \"style\", \"width: 60%;\", 4, \"ngIf\"], [\"class\", \"btn btn-info\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-info mr-3\", 3, \"click\", 4, \"ngIf\"], [1, \"form-froup\", \"row\", 2, \"width\", \"60%\"], [\"type\", \"text\", \"placeholder\", \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\", \"formControlName\", \"firstname\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"text-danger\", \"float-right\"], [1, \"form-froup\", \"row\", \"text-left\", 2, \"width\", \"60%\"], [\"type\", \"date\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"form-froup row\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-froup\", \"row\"], [1, \"col-sm-2\", \"col-form-label\", \"mr-1\", 2, \"font-weight\", \"bold\"], [1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngValue\"], [1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"btn\", \"btn-info\", \"mr-3\", 3, \"click\"]],\n  template: function AddPatientsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, AddPatientsComponent_div_2_Template, 6, 2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"label\", 3);\n      i0.ɵɵtext(4, \"\\u05E9.\\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelement(6, \"input\", 5);\n      i0.ɵɵtemplate(7, AddPatientsComponent_span_7_Template, 2, 0, \"span\", 6);\n      i0.ɵɵtemplate(8, AddPatientsComponent_span_8_Template, 2, 0, \"span\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"label\", 7);\n      i0.ɵɵtext(10, \"\\u05EA.\\u05D6\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 4)(12, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.p.patientId = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"label\", 7);\n      i0.ɵɵtext(14, \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 4)(16, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.p.telephone = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"label\", 7);\n      i0.ɵɵtext(18, \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \\u05E0\\u05D9\\u05D9\\u05D3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 4)(20, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.p.mobilePhone = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"label\", 3);\n      i0.ɵɵtext(22, \"\\u05E2\\u05D9\\u05E8\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 4)(24, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx.p.city = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"label\", 3);\n      i0.ɵɵtext(26, \"\\u05E8\\u05D7\\u05D5\\u05D1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 4)(28, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_Template_input_ngModelChange_28_listener($event) {\n        return ctx.p.street = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"label\", 3);\n      i0.ɵɵtext(30, \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05D1\\u05D9\\u05EA\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 4)(32, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.p.numHouse = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"label\", 3);\n      i0.ɵɵtext(34, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 4)(36, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function AddPatientsComponent_Template_input_ngModelChange_36_listener($event) {\n        return ctx.p.dateOfBirth = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(37, \"label\", 3);\n      i0.ɵɵtext(38, \"\\u05D1\\u05D7\\u05E8 \\u05EA\\u05DE\\u05D5\\u05E0\\u05EA \\u05E4\\u05E8\\u05D5\\u05E4\\u05D9\\u05DC\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 15)(40, \"input\", 16);\n      i0.ɵɵlistener(\"change\", function AddPatientsComponent_Template_input_change_40_listener($event) {\n        return ctx.uploadPhoto($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"div\");\n      i0.ɵɵelement(42, \"img\", 17);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(43, AddPatientsComponent_div_43_Template, 10, 3, \"div\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(44, AddPatientsComponent_button_44_Template, 2, 0, \"button\", 19);\n      i0.ɵɵtemplate(45, AddPatientsComponent_button_45_Template, 2, 0, \"button\", 20);\n      i0.ɵɵtemplate(46, AddPatientsComponent_button_46_Template, 2, 0, \"button\", 20);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.firstHalf);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormControl[\"lastname\"].touched && (ctx.registerFormControl[\"lastname\"].errors == null ? null : ctx.registerFormControl[\"lastname\"].errors[\"required\"]));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerFormControl[\"lastname\"].touched && (ctx.registerFormControl[\"lastname\"].errors == null ? null : ctx.registerFormControl[\"lastname\"].errors[\"minlength\"]));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.p.patientId);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.p.telephone);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.p.mobilePhone);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.p.city);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.p.street);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.p.numHouse);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.p.dateOfBirth);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"src\", ctx.url, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.secondHalf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.firstHalf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.secondHalf);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.secondHalf);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\"label[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGF0aWVudHMvYWRkLXBhdGllbnRzL2FkZC1wYXRpZW50cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztBQUNmIiwic291cmNlc0NvbnRlbnQiOlsibGFiZWx7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Vaccine","VaccineForPatient","Patient","FormGroup","Validators","FormControl","i0","AddPatientsComponent","constructor","db","fb","Date","FormData","registerForm","firstname","required","minLength","lastname","ngOnInit","RefreshVaccinesLst","registerFormControl","controls","getAllvaccinations","subscribe","x","arrV","console","log","continue","firstHalf","secondHalf","back","addUser","p","valid","RefreshPatientsLst","arrVaccineForPatient","forEach","v","patient","arrp","find","element","id","vaccine","patientID","vaccineID","addVaccinesForPatient","y","value","alert","GetAllUsers","map","dateOfBirth","uploadPhoto","event","file","target","files","formData","append","formdataimg","reader","FileReader","readAsDataURL","onload","e","url","result","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\1\\Desktop\\תכנות\\עבודה\\corona-details\\src\\app\\patients\\add-patients\\add-patients.component.ts","C:\\Users\\1\\Desktop\\תכנות\\עבודה\\corona-details\\src\\app\\patients\\add-patients\\add-patients.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { SharedServiceService } from 'src/app/shared-service.service';\nimport { VaccinationsComponent } from 'src/app/vaccinations/vaccinations.component';\nimport { Vaccine } from 'src/app/Vaccine';\nimport { VaccineForPatient } from 'src/app/VaccineForPatient';\nimport { Patient } from '../Patient';\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-add-patients',\n  templateUrl: './add-patients.component.html',\n  styleUrls: ['./add-patients.component.css']\n})\nexport class AddPatientsComponent {\n  p: Patient = new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\")\n  arrV: Vaccine[] = []\n  arrp:Patient[]=[];\n  x: number = 0\n  firstHalf: boolean = true\n  secondHalf: boolean = false\n  PhotoFilePath: string = \"\"\n  url:string=\"\"\n  arrVaccineForPatient: VaccineForPatient[] = [\n    new VaccineForPatient(0, 0, 0, new Date(),new Vaccine(0,\"\"),new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\")),\n    new VaccineForPatient(0, 0, 0, new Date(),new Vaccine(0,\"\"),new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\")),\n    new VaccineForPatient(0, 0, 0, new Date(),new Vaccine(0,\"\"),new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\")),\n    new VaccineForPatient(0, 0, 0, new Date(),new Vaccine(0,\"\"),new Patient(0, \"\", \"\", \"\", \"\", \"\", \"\", \"\", 0, new Date(), new Date(), new Date(),\"\"))\n  ];\n  formData:FormData=new FormData()\n  formdataimg:FormData=new FormData()\n \n  registerForm: FormGroup\n\n  constructor(private db: SharedServiceService, private fb: FormBuilder) { \n    this.registerForm = new FormGroup({\n      firstname: new FormControl('',[Validators.required, Validators.minLength(2)]),\n      lastname: new FormControl('',[Validators.required, Validators.minLength(2)]),\n  });  \n  }\n  ngOnInit(): void {\n    this.RefreshVaccinesLst();\n\n  }\n  get registerFormControl() {\n    return this.registerForm.controls;\n  }\n  RefreshVaccinesLst() {\n    this.db.getAllvaccinations().subscribe(x => {\n      this.arrV = <Vaccine[]>x;\n      console.log(this.arrV)\n    });\n  }\n  continue() {\n    this.firstHalf = false\n    this.secondHalf = true\n  }\n  back() {\n    this.firstHalf = true\n    this.secondHalf = false\n  }\n  addUser() {\n    console.log(this.p);\n    if(this.registerForm.valid){\n      this.db.addUser(this.p).subscribe(x => {\n        this.x = <number>x;\n        console.log(x);\n        this.RefreshPatientsLst()\n        this.arrVaccineForPatient.forEach(v => {\n          console.log(v);\n          v.patient=this.arrp.find(element => element.id===this.x)|| new Patient(0, '', '', '', '', '', '', '', 0, new Date(), new Date(), new Date(),\"\");\n          v.vaccine=this.arrV.find(element => element.id===this.x)|| new Vaccine(0,\"\");\n          v.patientID = this.x;\n          if (v.vaccineID !== 0) {\n            this.db.addVaccinesForPatient(v).subscribe(y => {\n              console.log(y);\n            });\n          }\n        });\n      })\n    }\n    else{\n      console.log(this.registerForm.value);\n      \n      alert('not valid')\n    }\n  }\n  RefreshPatientsLst(){\n    this.db.GetAllUsers() .subscribe(x=>{     \n      this.arrp=<Patient[]>x;\n      console.log(this.arrp)\n      this.arrp.map(x=>x.dateOfBirth)\n    });\n  }\n  uploadPhoto(event: any) {\n    var file = event.target.files[0];\n    const formData: FormData = new FormData();\n    formData.append('file', file);\n    this.formdataimg=formData\n    console.log(this.formdataimg);\n    var reader=new FileReader()\n    reader.readAsDataURL(event.target.files[0])\n    reader.onload=(e:any)=>{\n      this.url=e.target.result\n      console.log(this.url);\n      \n    }\n    // this.db.UploadImage(formData).subscribe(x => {\n    //   this.PhotoFilePath = <any>x;\n    //   console.log(this.PhotoFilePath);\n    // }\n    // )\n  }\n}\n","<form [formGroup]=\"registerForm\">\n    <div class=\"d-flex flex-row bd-highlight mb-3\">\n\n        <div class=\"form-froup row\" style=\"width: 60%;\" *ngIf=\"firstHalf\">\n            <label class=\"col-sm-2 col-form-label mr-1\">שם פרטי</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"הכנס שם פרטי\" formControlName=\"firstname\">\n            <span class=\"text-danger\" *ngIf=\" registerFormControl['firstname'].errors?.['required']\">\n                שדה חובה\n            </span>\n            <span class=\"text-danger float-right\"\n                *ngIf=\"(registerFormControl['firstname'].touched ) && registerFormControl['firstname'].errors?.['minlength']\">\n                שם חייב לכלול לפחות 2 תווים\n            </span>\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">ש.משפחה</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" formControlName=\"lastname\" placeholder=\"הכנס שם משפחה\">\n            <span class=\"text-danger float-right\"\n                *ngIf=\"(registerFormControl['lastname'].touched ) && registerFormControl['lastname'].errors?.['required']\">\n                שדה חובה\n            </span>\n            <span class=\"text-danger float-right\"\n                *ngIf=\"(registerFormControl['lastname'].touched ) && registerFormControl['lastname'].errors?.['minlength']\">\n                שם חייב לכלול לפחות 2 תווים\n            </span>\n        </div>\n        <label class=\"col-sm-2 col-form-label m-1\">ת.ז</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.patientId\" placeholder=\"הכנס תעודת זהות\">\n        </div>\n        <label class=\"col-sm-2 col-form-label m-1\">טלפון</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.telephone\" placeholder=\"הכנס מספר טלפון\">\n        </div>\n        <label class=\"col-sm-2 col-form-label m-1\">טלפון נייד</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.mobilePhone\" placeholder=\"הכנס מספר טלפון נייד\">\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">עיר</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.city\" placeholder=\"הכנס עיר מגורים\">\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">רחוב</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"p.street\" placeholder=\"הכנס רחוב מגורים\">\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">מספר בית</label>\n        <div class=\"col-sm-10\">\n            <input type=\"number\" class=\"form-control\" [(ngModel)]=\"p.numHouse\" placeholder=\"הכנס מספר בית\">\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">תאריך לידה</label>\n        <div class=\"col-sm-10\">\n            <input type=\"date\" class=\"form-control\" [(ngModel)]=\"p.dateOfBirth\" placeholder=\"הכנס תאריך לידה\">\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">בחר תמונת פרופיל</label>\n        <div class=\"ml-3 bd-highlight\" style=\"width: 40%;\">\n            <input type=\"file\" (change)=\"uploadPhoto($event)\" class=\"mt-2\" accept=\"image/*\" />\n            <div><img [src]=\"url\"></div>\n        </div>\n\n    </div>\n\n\n\n\n    <div class=\"form-froup row text-left\" style=\"width: 60%;\" *ngIf=\"secondHalf\">\n        <label class=\"col-sm-2 col-form-label mr-1\">תאריך אבחון קורונה</label>\n        <div class=\"col-sm-10\">\n            <input type=\"date\" class=\"form-control\" [(ngModel)]=\"p.positiveResultDate\">\n        </div>\n        <label class=\"col-sm-2 col-form-label mr-1\">תאריך החלמה</label>\n        <div class=\"col-sm-10\">\n            <input type=\"date\" class=\"form-control\" [(ngModel)]=\"p.recoveryDate\">\n        </div>\n        <div class=\"form-froup row\" *ngFor=\"let vaccine of arrVaccineForPatient; let i = index\">\n            <label class=\"col-sm-2 col-form-label mr-1\" style=\"font-weight: bold;\">חיסון {{ i + 1 }}</label>\n            <label class=\"col-sm-2 col-form-label mr-1\">יצרן החיסון</label>\n            <div class=\"col-sm-10\">\n                <select class=\"form-control\" [(ngModel)]=\"vaccine.vaccineID\">\n                    <option>--Select--</option>\n                    <option *ngFor=\"let vaccine of arrV let i = index\" [ngValue]=\"i+1\">\n                        {{vaccine.manufacturer}}\n                    </option>\n                </select>\n            </div>\n            <label class=\"col-sm-2 col-form-label mr-1\">תאריך החיסון</label>\n            <div class=\"col-sm-10\">\n                <input type=\"date\" class=\"form-control\" [(ngModel)]=\"vaccine.date\">\n            </div>\n        </div>\n\n\n    </div>\n\n</form>\n<button (click)=\"continue()\" class=\"btn btn-info\" *ngIf=\"firstHalf\">\n    המשך\n</button>\n<button (click)=\"back()\" class=\"btn btn-info mr-3\" *ngIf=\"secondHalf\">\n    חזור\n</button>\n<button (click)=\"addUser()\" class=\"btn btn-info mr-3\" *ngIf=\"secondHalf\">\n    הוספה\n</button>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}